{% extends "main/base.html" %}
{% block title %}{{ recipe.title }} - –ö—É–ª–∏–Ω–∞—Ä–Ω–∞—è –∫–Ω–∏–≥–∞{% endblock %}
{% block page_title %}
  <h1>{{ recipe.title }}</h1>
{% endblock %}
{% block content %}
  <div class="recipe-detail">
    <div class="recipe-meta">
      <p><strong>üë§ –ê–≤—Ç–æ—Ä:</strong> {{ recipe.author.username }}</p>
      <p><strong>üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> {{ recipe.category.name|default:"–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏" }}</p>
      <p><strong>‚ö° –°–ª–æ–∂–Ω–æ—Å—Ç—å:</strong> {{ recipe.get_difficulty_display }}</p>
      <p><strong>‚≠ê –†–µ–π—Ç–∏–Ω–≥:</strong> {{ recipe.rating }}</p>
      <p><strong>‚è±Ô∏è –í—Ä–µ–º—è:</strong> {{ recipe.cook_time }} –º–∏–Ω</p>
      <p><strong>üìÖ –°–æ–∑–¥–∞–Ω:</strong> {{ recipe.created_at|date:"d.m.Y" }}</p>
    </div>
    
    {% if recipe.description %}
      <div class="recipe-description">
        <h3>–û–ø–∏—Å–∞–Ω–∏–µ</h3>
        <p>{{ recipe.description|linebreaks }}</p>
      </div>
    {% endif %}
    
    {% if recipe.ingredients.exists %}
      <div class="recipe-ingredients">
        <h3>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</h3>
        <ul>
          {% for ingredient in recipe.ingredients.all %}
            <li>{{ ingredient.name }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}
    
    {% if recipe.instructions %}
      <div class="recipe-instructions">
        <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h3>
        <div>{{ recipe.instructions|linebreaks }}</div>
      </div>
    {% endif %}
    
    {% if recipe.images.exists %}
      <div class="recipe-images">
        <h3>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h3>
        <div class="image-gallery">
          {% for image in recipe.images.all %}
            <img src="{{ image.image.url }}" alt="{{ recipe.title }}" style="max-width: 300px; margin: 10px;">
          {% endfor %}
        </div>
      </div>
    {% endif %}
  </div>
  
  <div style="margin-top: 20px;">
    <a href="{% url 'search' %}" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ –ø–æ–∏—Å–∫—É</a>
  </div>
{% endblock %}