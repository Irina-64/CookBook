<!-- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—ã–±–æ—Ä–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –±–µ–∑ AJAX -->
<div id="ingredientFallback" style="display: none;">
    <div class="modal-content" style="max-width: 500px; margin: 50px auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <h3 style="margin: 0; color: #007bff; text-align: center;">üîç –í—ã–±—Ä–∞—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç</h3>
        
        <div class="form-group" style="margin-top: 20px;">
            <label>–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç:</label>
            <select id="ingredientSelect" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç --</option>
                {% for ingredient in ingredients %}
                    <option value="{{ ingredient.id }}">{{ ingredient.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div style="margin-top: 20px; text-align: center;">
            <button type="button" onclick="selectIngredientFromDropdown()" 
                    style="background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 4px; margin-right: 10px;">
                –í—ã–±—Ä–∞—Ç—å
            </button>
            <button type="button" onclick="closeIngredientFallback()" 
                    style="background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 4px;">
                –û—Ç–º–µ–Ω–∞
            </button>
        </div>
    </div>
</div>

<script>
function selectIngredientFromDropdown() {
    const select = document.getElementById('ingredientSelect');
    const ingredientId = select.value;
    const ingredientName = select.options[select.selectedIndex].text;
    
    if (ingredientId) {
        selectIngredient(ingredientId, ingredientName);
        closeIngredientFallback();
    } else {
        alert('–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –∏–∑ —Å–ø–∏—Å–∫–∞');
    }
}

function closeIngredientFallback() {
    document.getElementById('ingredientFallback').style.display = 'none';
}
</script>



